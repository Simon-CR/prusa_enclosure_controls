# Prusament ASA - Enclosure Control Profile
# Higher temperature requirements than ABS

[filament:Prusament ASA - Enclosure]
inherits = Prusament ASA
compatible_printers_condition = printer_notes=~/.*HACKERBOARD.*/

bed_temperature = 105
first_layer_bed_temperature = 105
temperature = 250
first_layer_temperature = 260

# Even more conservative cooling for ASA
disable_fan_first_layers = 5
max_fan_speed = 15
min_fan_speed = 10
bridge_fan_speed = 20

start_filament_gcode = ; Prusament ASA with Enclosure Control\n;\nM140 S[first_layer_bed_temperature]\nM104 S170\n;\n; Enable enclosure - ASA mode\nM117 Enclosure: ASA mode\nM262 P7 V1 ; Enable\nM262 P6 V1 ; Profile 110 (ASA)\nM262 P5 V1\nM262 P4 V0\n;\nM190 S[first_layer_bed_temperature]\n;\n; Chamber preheat (38째C min, 45째C target)\nM117 Waiting for chamber 38C...\nM262 P2 V1 ; Preheat mode\nG4 S600 ; Max 10 min wait\n;\nM109 R170\nG28\nG29\nM104 S[first_layer_temperature]\nM109 S[first_layer_temperature]\nM262 P2 V1 ; First layer protection\nM117 Printing ASA (Chamber 45C)

end_filament_gcode = ; ASA complete\nM117 Extended VOC purge...\nM104 S0\nM140 S0\nM262 P3 V1 ; Purge\nG4 S300 ; 5 minutes\nM262 P2 V0\nG4 S60\nM262 P7 V0\nM84\nM117 Complete

layer_gcode = {if layer_num==6}M262 P2 V0 ; End first layer protection{endif}

filament_notes = Chamber: 38째C minimum, 45째C target | First 5 layers protected | Extended VOC purge